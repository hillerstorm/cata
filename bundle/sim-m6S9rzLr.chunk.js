import{y as e,a2 as t,m as a,a4 as s,d as n,a as l,a7 as i,a8 as o,a9 as r,r as p,_ as d,A as c,b as g,a0 as m,T as S,I as u,O as h,c as f}from"./preset_utils-CT2kpWfm.chunk.js";import{R as I}from"./suggest_reforges_action-HPsUwWdp.chunk.js";import{aV as v,aW as P,T as y,aX as A,n as R,S as T,a as k,b as O,c as M,G as w,aY as C,aZ as E,a_ as D,ac as H,C as b,f as W,F as x,g as F,i as G,U as J,q as j,R as B,m as L,I as N,D as V,aM as _,A as U,aO as q,o as z,p as K}from"./detailed_results-22mxnnQ_.chunk.js";import{s as X}from"./apl_utils-Dq65iw_p.chunk.js";import{s as Y,P as Z,a as $,A as Q,N as ee}from"./shared-BBuGUq96.chunk.js";const te={inputs:[e({fieldName:"type",label:"Type",values:[{name:"Single Target",value:v.SingleTarget},{name:"AOE",value:v.Aoe}]}),e({fieldName:"sting",label:"Sting",labelTooltip:"Maintains the selected Sting on the primary target.",values:[{name:"None",value:P.NoSting},{name:"Scorpid Sting",value:P.ScorpidSting},{name:"Serpent Sting",value:P.SerpentSting}],showWhen:e=>e.getSimpleRotation().type==v.SingleTarget}),t({fieldName:"trapWeave",label:"Trap Weave",labelTooltip:"Uses Explosive Trap at appropriate times. Note that selecting this will disable Black Arrow because they share a CD."}),t({fieldName:"multiDotSerpentSting",label:"Multi-Dot Serpent Sting",labelTooltip:"Casts Serpent Sting on multiple targets",changeEmitter:e=>y.onAny([e.rotationChangeEmitter,e.talentsChangeEmitter])})]},ae={type:"TypeAPL",prepullActions:[{action:{castSpell:{spellId:{otherId:"OtherActionPotion"}}},doAtValue:{const:{val:"-1s"}}}],priorityList:[{action:{autocastOtherCooldowns:{}}},{action:{castSpell:{spellId:{spellId:13812}}}},{action:{castSpell:{spellId:{spellId:2643}}}},{action:{castSpell:{spellId:{spellId:56641}}}}]},se={type:"TypeAPL",prepullActions:[{action:{castSpell:{spellId:{spellId:13812}}},doAtValue:{const:{val:"-25s"}}},{action:{castSpell:{spellId:{spellId:1130}}},doAtValue:{const:{val:"-11s"}}},{action:{castSpell:{spellId:{spellId:13165}}},doAtValue:{const:{val:"-10s"}}},{action:{castSpell:{spellId:{otherId:"OtherActionPotion"}}},doAtValue:{const:{val:"-3s"}}},{action:{castSpell:{spellId:{spellId:19434}}},doAtValue:{const:{val:"-3s"}}}],priorityList:[{action:{autocastOtherCooldowns:{}}},{action:{condition:{auraIsInactiveWithReactionTime:{auraId:{spellId:3045}}},castSpell:{spellId:{spellId:3045}}}},{action:{condition:{or:{vals:[{cmp:{op:"OpLe",lhs:{spellCastTime:{spellId:{spellId:19434}}},rhs:{const:{val:"1s"}}}},{isExecutePhase:{threshold:"E90"}}]}},castSpell:{spellId:{spellId:19434}}}},{action:{condition:{or:{vals:[{not:{val:{auraIsActive:{auraId:{spellId:53221,tag:1}}}}},{cmp:{op:"OpLe",lhs:{auraRemainingTime:{auraId:{spellId:53221,tag:1}}},rhs:{const:{val:"3s"}}}}]}},castSpell:{spellId:{spellId:56641}}}},{action:{condition:{and:{vals:[{not:{val:{isExecutePhase:{threshold:"E90"}}}},{spellCanCast:{spellId:{spellId:53209}}},{spellCanCast:{spellId:{spellId:23989}}}]}},strictSequence:{actions:[{castSpell:{spellId:{spellId:53209}}},{castSpell:{spellId:{spellId:23989}}}]}}},{action:{condition:{and:{vals:[{not:{val:{dotIsActive:{spellId:{spellId:1978}}}}},{not:{val:{isExecutePhase:{threshold:"E90"}}}}]}},castSpell:{spellId:{spellId:1978}}}},{action:{condition:{not:{val:{isExecutePhase:{threshold:"E90"}}}},castSpell:{spellId:{spellId:53209}}}},{action:{condition:{spellCanCast:{spellId:{spellId:53351}}},castSpell:{spellId:{spellId:53351}}}},{action:{condition:{or:{vals:[{cmp:{op:"OpGe",lhs:{currentFocus:{}},rhs:{const:{val:"66"}}}},{cmp:{op:"OpGe",lhs:{spellTimeToReady:{spellId:{spellId:53209}}},rhs:{const:{val:"4"}}}}]}},castSpell:{spellId:{spellId:3044}}}},{action:{castSpell:{spellId:{spellId:56641}}}}]},ne={items:[{id:65206,enchant:4209,gems:[68778,52209],reforging:165},{id:69880,randomSuffix:-135,reforging:151},{id:65208,enchant:4204,gems:[52212],reforging:166},{id:69884,randomSuffix:-135,enchant:1099},{id:65204,enchant:4102,gems:[52212,52220]},{id:65028,enchant:4258,gems:[52212]},{id:65205,enchant:3222,gems:[52212,52212]},{id:65132,gems:[52212,52212]},{id:60230,enchant:3823,gems:[52212,52220,52209]},{id:65063,enchant:4105,gems:[52220]},{id:65082},{id:65367,randomSuffix:-133},{id:65140},{id:65026},{id:65139,enchant:4227,reforging:167},{},{id:65058,enchant:4175,reforging:167}]},le={items:[{id:71503,enchant:4209,gems:[68778,52209],reforging:154},{id:71610,reforging:152},{id:71403,randomSuffix:-294,enchant:4204,gems:[52258]},{id:71415,enchant:4100,gems:[52258,52258],reforging:137},{id:71501,enchant:4102,gems:[52212,52209]},{id:71561,enchant:4258,gems:[52212],reforging:154},{id:71502,enchant:4107,gems:[52212,52212],reforging:154},{id:71255,gems:[52212,52212],reforging:151},{id:71504,enchant:4126,gems:[52212,52220],reforging:154},{id:71457,enchant:4105,gems:[52212]},{id:71216,gems:[52212],reforging:152},{id:71401,reforging:152},{id:69150},{id:69112},{id:71466,enchant:4227,reforging:144},{},{id:71611,enchant:4267,reforging:154}]},ie=a("MM PreRaid Preset",{items:[{id:59456,enchant:4209,gems:[68778,59478,59493]},{id:52350,gems:[52212]},{id:64712,enchant:4204,gems:[52212],reforging:152},{id:56315,enchant:1099},{id:56564,enchant:4063,gems:[52258],reforging:152},{id:63479,enchant:4071,gems:[0]},{id:64709,enchant:3222,gems:[52212,0],reforging:137},{id:56539,gems:[52212,52212],reforging:165},{id:56386,enchant:4126,gems:[52258,52258]},{id:62385,enchant:4076,gems:[52212],reforging:166},{id:52348,gems:[52212],reforging:167},{id:62362,reforging:166},{id:68709,reforging:166},{id:56328,reforging:137},{id:55066,enchant:4227,reforging:165},{},{id:59367,enchant:4175,gems:[52212],reforging:151}]}),oe=a("MM P1 Preset",ne),re=a("MM T12 Preset",le),pe=A.create({type:v.SingleTarget,sting:P.SerpentSting,trapWeave:!0,multiDotSerpentSting:!0,allowExplosiveShotDownrank:!0});s("Simple Default",R.SpecMarksmanshipHunter,pe);const de=n("MM",se),ce=n("AOE",ae),ge=l("MM P1",T.fromMap({[k.StatAgility]:3.05,[k.StatRangedAttackPower]:1,[k.StatHitRating]:2.25,[k.StatCritRating]:1.39,[k.StatHasteRating]:1.33,[k.StatMasteryRating]:1.15},{[O.PseudoStatRangedDps]:6.32})),me=l("MM P3 (T12 4-set)",T.fromMap({[k.StatAgility]:3.05,[k.StatRangedAttackPower]:1,[k.StatHitRating]:2.79,[k.StatCritRating]:1.47,[k.StatHasteRating]:.9,[k.StatMasteryRating]:1.39},{[O.PseudoStatRangedDps]:7.33})),Se={name:"Marksman",data:M.create({talentsString:"032002-2302320232120231201-03",glyphs:w.create({prime1:C.GlyphOfArcaneShot,prime2:C.GlyphOfRapidFire,prime3:C.GlyphOfSteadyShot,major1:E.GlyphOfDisengage,major2:E.GlyphOfRaptorStrike,major3:E.GlyphOfTrapLauncher})})},ue=r;ue.wildHunt=1,ue.sharkAttack=1;const he=D.create({classOptions:{useHuntersMark:!0,petType:H.Wolf,petTalents:ue,petUptime:1}}),fe=b.create({defaultPotion:W.PotionOfTheTolvir,prepopPotion:W.PotionOfTheTolvir,flask:x.FlaskOfTheWinds,defaultConjured:i.value,food:F.FoodSeafoodFeast,tinkerHands:o.value}),Ie={distanceFromTarget:24,profession1:G.Engineering,profession2:G.Jewelcrafting},ve=p(R.SpecMarksmanshipHunter,{cssClass:"marksmanship-hunter-sim-ui",cssScheme:"hunter",knownIssues:[],warnings:[],epStats:[k.StatStamina,k.StatIntellect,k.StatAgility,k.StatRangedAttackPower,k.StatHitRating,k.StatCritRating,k.StatHasteRating,k.StatMP5,k.StatMasteryRating],epPseudoStats:[O.PseudoStatRangedDps],epReferenceStat:k.StatRangedAttackPower,displayStats:J.createDisplayStatArray([k.StatHealth,k.StatStamina,k.StatAgility,k.StatRangedAttackPower,k.StatMasteryRating],[O.PseudoStatPhysicalHitPercent,O.PseudoStatPhysicalCritPercent,O.PseudoStatRangedHastePercent]),modifyDisplayStats:e=>Y(e),itemSwapSlots:[j.ItemSlotMainHand,j.ItemSlotRanged,j.ItemSlotHands,j.ItemSlotTrinket1,j.ItemSlotTrinket2,j.ItemSlotFinger1,j.ItemSlotFinger2],defaults:{gear:re.gear,epWeights:me.epWeights,statCaps:(new T).withPseudoStat(O.PseudoStatPhysicalHitPercent,8),other:Ie,consumes:fe,talents:Se.data,specOptions:he,raidBuffs:B.create({arcaneBrilliance:!0,bloodlust:!0,markOfTheWild:!0,icyTalons:!0,moonkinForm:!0,leaderOfThePack:!0,powerWordFortitude:!0,strengthOfEarthTotem:!0,trueshotAura:!0,wrathOfAirTotem:!0,demonicPact:!0,blessingOfKings:!0,blessingOfMight:!0,communion:!0}),partyBuffs:L.create({}),individualBuffs:N.create({vampiricTouch:!0}),debuffs:V.create({sunderArmor:!0,faerieFire:!0,curseOfElements:!0,savageCombat:!0,bloodFrenzy:!0})},playerIconInputs:[Z()],rotationInputs:te,petConsumeInputs:[],includeBuffDebuffInputs:[d,c],excludeBuffDebuffInputs:[],otherInputs:{inputs:[$(),Q(),ee(),g,m,S,u,h]},encounterPicker:{showExecuteProportion:!0},presets:{epWeights:[ge,me],talents:[Se],rotations:[de,ce],gear:[re,ie,oe]},autoRotation:e=>e.sim.encounter.targets.length>=4?ce.rotation.rotation:de.rotation.rotation,simpleRotation:(e,t,a)=>{const[s,n]=X(a),l=_.fromJsonString('{"condition":{"not":{"val":{"auraIsActive":{"auraId":{"spellId":12472}}}}},"castSpell":{"spellId":{"otherId":"OtherActionPotion"}}}'),i=_.fromJsonString(`{"condition":{"cmp":{"op":"OpGt","lhs":{"remainingTime":{}},"rhs":{"const":{"val":"6s"}}}},"multidot":{"spellId":{"spellId":49001},"maxDots":${t.multiDotSerpentSting?3:1},"maxOverlap":{"const":{"val":"0ms"}}}}`),o=_.fromJsonString('{"condition":{"auraShouldRefresh":{"auraId":{"spellId":3043},"maxOverlap":{"const":{"val":"0ms"}}}},"castSpell":{"spellId":{"spellId":3043}}}'),r=_.fromJsonString('{"condition":{"not":{"val":{"dotIsActive":{"spellId":{"spellId":49067}}}}},"castSpell":{"spellId":{"tag":1,"spellId":49067}}}'),p=_.fromJsonString('{"castSpell":{"spellId":{"spellId":58434}}}'),d=_.fromJsonString('{"castSpell":{"spellId":{"spellId":61006}}}'),c=_.fromJsonString('{"castSpell":{"spellId":{"spellId":49050}}}'),g=_.fromJsonString('{"castSpell":{"spellId":{"spellId":49048}}}'),m=_.fromJsonString('{"castSpell":{"spellId":{"spellId":49052}}}'),S=_.fromJsonString('{"castSpell":{"spellId":{"spellId":34490}}}'),u=_.fromJsonString('{"castSpell":{"spellId":{"spellId":53209}}}');return t.type==v.Aoe?n.push(...[l,t.sting==P.ScorpidSting?o:null,t.sting==P.SerpentSting?i:null,t.trapWeave?r:null,p].filter((e=>e))):n.push(...[l,S,d,t.sting==P.ScorpidSting?o:null,t.sting==P.SerpentSting?i:null,t.trapWeave?r:null,u,c,g,m].filter((e=>e))),U.create({prepullActions:s,priorityList:n.map((e=>q.create({action:e})))})},raidSimPresets:[{spec:R.SpecMarksmanshipHunter,talents:Se.data,specOptions:he,consumes:fe,defaultFactionRaces:{[z.Unknown]:K.RaceUnknown,[z.Alliance]:K.RaceWorgen,[z.Horde]:K.RaceTroll},defaultGear:{[z.Unknown]:{},[z.Alliance]:{1:ie.gear},[z.Horde]:{1:ie.gear}},otherDefaults:Ie}]});class Pe extends f{constructor(e,t){super(e,t,ve),t.sim.waitForInit().then((()=>{new I(this,{getEPDefaults:e=>e.getGear().getItemSetCount("Lightning-Charged Battlegear")>=4?ge.epWeights:e.getGear().getItemSetCount("Flamewaker's Battlegear")>=4?me.epWeights:ge.epWeights})}))}}export{Pe as M};
