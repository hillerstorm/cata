import{m as e,W as a,d as s,a as l,z as t,r as n,X as i,C as o,Y as d,Z as p,_ as r,$ as c,b as I,T as g,ah as m,a0 as h,O as u,c as S}from"./preset_utils-CT2kpWfm.chunk.js";import{R as f}from"./suggest_reforges_action-HPsUwWdp.chunk.js";import{S as v,a as T,U as y,b as P,c as O,G as R,bn as k,bo as A,bp as w,bq as q,bl as C,C as L,F as D,g as G,f as B,h as F,R as b,I as H,D as E,i as W,p as V,j as N,aA as x,m as M,q as j,n as U,o as _,k as z,l as K,b0 as X}from"./detailed_results-22mxnnQ_.chunk.js";import{A as Y}from"./inputs-6fZvh5ba.chunk.js";const Z={type:"TypeAPL",prepullActions:[{action:{castSpell:{spellId:{otherId:"OtherActionPotion"}}},doAtValue:{const:{val:"-1s"}}},{action:{castSpell:{spellId:{spellId:73510}}},doAtValue:{const:{val:"-1s"}}}],priorityList:[{action:{condition:{cmp:{op:"OpGt",lhs:{gcdTimeToReady:{}},rhs:{const:{val:"100ms"}}}},moveDuration:{duration:{gcdTimeToReady:{}}}}},{action:{condition:{cmp:{op:"OpLt",lhs:{currentTime:{}},rhs:{const:{val:"1s"}}}},castSpell:{spellId:{spellId:34433}}}},{action:{condition:{cmp:{op:"OpLt",lhs:{currentTime:{}},rhs:{const:{val:"2s"}}}},castSpell:{spellId:{spellId:2825,tag:-1}}}},{action:{condition:{cmp:{op:"OpGt",lhs:{currentTime:{}},rhs:{const:{val:"15s"}}}},autocastOtherCooldowns:{}}},{action:{condition:{and:{vals:[{cmp:{op:"OpGe",lhs:{currentTime:{}},rhs:{const:{val:"80s"}}}},{auraIsActive:{auraId:{spellId:89091}}}]}},castSpell:{spellId:{itemId:58091}}}},{action:{condition:{not:{val:{dotIsActive:{spellId:{spellId:589}}}}},castSpell:{spellId:{spellId:589}}}},{action:{condition:{cmp:{op:"OpLt",lhs:{currentTime:{}},rhs:{const:{val:"3s"}}}},autocastOtherCooldowns:{}}},{action:{condition:{and:{vals:[{not:{val:{auraIsActive:{auraId:{spellId:95799}}}}},{not:{val:{auraIsActive:{auraId:{spellId:77487}}}}}]}},sequence:{name:"opener",actions:[{castSpell:{spellId:{spellId:15407}}},{channelSpell:{spellId:{spellId:15407},interruptIf:{spellChanneledTicks:{spellId:{spellId:15407}}},allowRecast:!0}},{castSpell:{spellId:{spellId:15407}}},{castSpell:{spellId:{spellId:34914}}}]}}},{action:{condition:{and:{vals:[{not:{val:{auraIsActive:{auraId:{spellId:95799}}}}},{not:{val:{auraIsActive:{auraId:{spellId:77487}}}}}]}},sequence:{name:"opener",actions:[{castSpell:{spellId:{spellId:15407}}},{castSpell:{spellId:{spellId:2944}}}]}}},{action:{condition:{and:{vals:[{not:{val:{auraIsActive:{auraId:{spellId:95799}}}}},{not:{val:{auraIsActive:{auraId:{spellId:77487}}}}}]}},sequence:{name:"opener",actions:[{castSpell:{spellId:{spellId:8092}}}]}}},{action:{condition:{and:{vals:[{not:{val:{auraIsActive:{auraId:{spellId:95799}}}}},{not:{val:{auraIsActive:{auraId:{spellId:77487}}}}}]}},channelSpell:{spellId:{spellId:15407},interruptIf:{cmp:{op:"OpLe",lhs:{gcdTimeToReady:{}},rhs:{channelClipDelay:{}}}}}}},{action:{condition:{or:{vals:[{auraIsActive:{auraId:{spellId:77487}}}]}},castSpell:{spellId:{spellId:8092}}}},{action:{condition:{cmp:{op:"OpLt",lhs:{dotRemainingTime:{spellId:{spellId:34914}}},rhs:{math:{op:"OpAdd",lhs:{spellCastTime:{spellId:{spellId:34914}}},rhs:{dotTickFrequency:{spellId:{spellId:34914}}}}}}},castSpell:{spellId:{spellId:34914}}}},{action:{condition:{cmp:{op:"OpLt",lhs:{dotRemainingTime:{spellId:{spellId:2944}}},rhs:{dotTickFrequency:{spellId:{spellId:2944}}}}},castSpell:{spellId:{spellId:2944}}}},{action:{condition:{and:{vals:[{cmp:{op:"OpEq",lhs:{auraNumStacks:{auraId:{spellId:87118}}},rhs:{const:{val:"5"}}}},{cmp:{op:"OpGt",lhs:{dotRemainingTime:{spellId:{spellId:34914}}},rhs:{const:{val:"5s"}}}},{cmp:{op:"OpGt",lhs:{dotRemainingTime:{spellId:{spellId:2944}}},rhs:{const:{val:"5s"}}}},{gcdIsReady:{}}]}},castSpell:{spellId:{spellId:87153}}}},{action:{castSpell:{spellId:{spellId:34433}}}},{action:{condition:{and:{vals:[{spellCanCast:{spellId:{spellId:32379}}},{isExecutePhase:{threshold:"E25"}}]}},castSpell:{spellId:{spellId:32379}}}},{action:{channelSpell:{spellId:{spellId:15407},interruptIf:{cmp:{op:"OpLe",lhs:{gcdTimeToReady:{}},rhs:{channelClipDelay:{}}}}}}}]},$={type:"TypeAPL",prepullActions:[{action:{itemSwap:{swapSet:"Swap1"}},doAtValue:{const:{val:"-160s"}}},{action:{activateAllStatBuffProcAuras:{swapSet:"Swap1",statType1:7,statType2:14,statType3:11}},doAtValue:{const:{val:"-5s"}}},{action:{itemSwap:{swapSet:"Main"}},doAtValue:{const:{val:"-1s"}}},{action:{castSpell:{spellId:{otherId:"OtherActionPotion"}}},doAtValue:{const:{val:"-1s"}}},{action:{castSpell:{spellId:{spellId:73510}}},doAtValue:{const:{val:"-1s"}}}],priorityList:[{action:{condition:{cmp:{op:"OpGt",lhs:{gcdTimeToReady:{}},rhs:{const:{val:"200ms"}}}},moveDuration:{duration:{gcdTimeToReady:{}}}}},{action:{castSpell:{spellId:{spellId:2825,tag:-1}}}},{action:{condition:{and:{vals:[{cmp:{op:"OpEq",lhs:{auraNumStacks:{auraId:{spellId:87118}}},rhs:{const:{val:"5"}}}},{spellIsReady:{spellId:{spellId:87153}}}]}},sequence:{name:"fiend",actions:[{castSpell:{spellId:{spellId:34433}}}]}}},{action:{condition:{and:{vals:[{auraIsActive:{auraId:{spellId:34433}}},{gcdIsReady:{}}]}},sequence:{name:"archangel",actions:[{castSpell:{spellId:{spellId:87153}}}]}}},{action:{condition:{and:{vals:[{isExecutePhase:{threshold:"E25"}},{or:{vals:[{auraIsActive:{auraId:{spellId:34433}}},{and:{vals:[{cmp:{op:"OpLe",lhs:{remainingTime:{}},rhs:{const:{val:"90s"}}}},{cmp:{op:"OpGt",lhs:{spellTimeToReady:{spellId:{spellId:34433}}},rhs:{const:{val:"90s"}}}}]}}]}}]}},castSpell:{spellId:{itemId:58091}}}},{action:{condition:{or:{vals:[{auraIsActive:{auraId:{spellId:34433}}},{and:{vals:[{cmp:{op:"OpLe",lhs:{remainingTime:{}},rhs:{const:{val:"90s"}}}},{cmp:{op:"OpGt",lhs:{spellTimeToReady:{spellId:{spellId:34433}}},rhs:{const:{val:"90s"}}}}]}}]}},castAllStatBuffCooldowns:{statType1:11,statType2:3,statType3:14}}},{action:{condition:{or:{vals:[{cmp:{op:"OpLt",lhs:{remainingTime:{}},rhs:{spellTimeToReady:{spellId:{spellId:34433}}}}},{and:{vals:[{cmp:{op:"OpEq",lhs:{numStatBuffCooldowns:{statType1:14,statType2:3,statType3:11}},rhs:{const:{val:"0"}}}},{or:{vals:[{auraIsActive:{auraId:{spellId:34433}}},{not:{val:{spellIsReady:{spellId:{spellId:34433}}}}}]}}]}},{and:{vals:[{auraIsKnown:{auraId:{itemId:77114}}},{cmp:{op:"OpGt",lhs:{spellTimeToReady:{spellId:{itemId:77114}}},rhs:{const:{val:"10s"}}}}]}},{and:{vals:[{not:{val:{spellIsReady:{spellId:{spellId:34433}}}}},{not:{val:{auraIsKnown:{auraId:{itemId:77114}}}}},{cmp:{op:"OpGt",lhs:{numStatBuffCooldowns:{statType1:14,statType2:3,statType3:11}},rhs:{const:{val:"0"}}}}]}}]}},castSpell:{spellId:{spellId:82174}}}},{action:{condition:{and:{vals:[{not:{val:{auraIsActive:{auraId:{spellId:34433}}}}},{cmp:{op:"OpLt",lhs:{auraNumStacks:{auraId:{spellId:87118}}},rhs:{const:{val:"5"}}}}]}},channelSpell:{spellId:{spellId:15407},interruptIf:{cmp:{op:"OpEq",lhs:{auraNumStacks:{auraId:{spellId:87118}}},rhs:{const:{val:"5"}}}}}}},{action:{condition:{and:{vals:[{sequenceIsComplete:{sequenceName:"fiend"}},{spellIsReady:{spellId:{spellId:34433}}}]}},resetSequence:{sequenceName:"fiend"}}},{action:{condition:{and:{vals:[{sequenceIsComplete:{sequenceName:"archangel"}},{spellIsReady:{spellId:{spellId:87153}}}]}},resetSequence:{sequenceName:"archangel"}}},{action:{condition:{and:{vals:[{auraIsActive:{auraId:{spellId:87153}}},{cmp:{op:"OpEq",lhs:{auraNumStacks:{auraId:{spellId:77487}}},rhs:{const:{val:"3"}}}}]}},castSpell:{spellId:{spellId:8092}}}},{action:{condition:{and:{vals:[{spellCanCast:{spellId:{spellId:32379}}},{isExecutePhase:{threshold:"E25"}}]}},castSpell:{spellId:{spellId:32379}}}},{action:{condition:{and:{vals:[{auraIsActive:{auraId:{spellId:34433}}},{cmp:{op:"OpGe",lhs:{spellTimeToReady:{spellId:{spellId:8092}}},rhs:{math:{op:"OpMul",lhs:{dotTickFrequency:{spellId:{spellId:15407}}},rhs:{const:{val:"2"}}}}}}]}},castSpell:{spellId:{spellId:73510}}}},{action:{condition:{and:{vals:[{auraIsActive:{auraId:{spellId:34433}}},{not:{val:{cmp:{op:"OpLe",lhs:{spellIsReady:{spellId:{spellId:8092}}},rhs:{gcdTimeToReady:{}}}}}}]}},channelSpell:{spellId:{spellId:15407},interruptIf:{spellIsReady:{spellId:{spellId:8092}}}}}},{action:{condition:{or:{vals:[{cmp:{op:"OpLt",lhs:{remainingTime:{}},rhs:{const:{val:"25s"}}}},{and:{vals:[{cmp:{op:"OpGt",lhs:{spellTimeToReady:{spellId:{spellId:87153}}},rhs:{const:{val:"10s"}}}},{not:{val:{sequenceIsReady:{sequenceName:"archangel"}}}}]}}]}},castSpell:{spellId:{spellId:26297}}}},{action:{condition:{or:{vals:[{cmp:{op:"OpLt",lhs:{remainingTime:{}},rhs:{const:{val:"25s"}}}},{and:{vals:[{cmp:{op:"OpGt",lhs:{spellTimeToReady:{spellId:{spellId:87153}}},rhs:{const:{val:"15s"}}}},{not:{val:{sequenceIsReady:{sequenceName:"archangel"}}}},{not:{val:{auraIsActive:{auraId:{spellId:2825,tag:-1}}}}}]}}]}},castSpell:{spellId:{spellId:10060,tag:-1}}}},{action:{condition:{and:{vals:[{and:{vals:[{not:{val:{sequenceIsReady:{sequenceName:"archangel"}}}}]}},{not:{val:{dotIsActive:{spellId:{spellId:589}}}}}]}},castSpell:{spellId:{spellId:589}}}},{action:{condition:{and:{vals:[{and:{vals:[{not:{val:{sequenceIsReady:{sequenceName:"archangel"}}}}]}},{cmp:{op:"OpLt",lhs:{dotRemainingTime:{spellId:{spellId:34914}}},rhs:{math:{op:"OpAdd",lhs:{spellCastTime:{spellId:{spellId:34914}}},rhs:{dotTickFrequency:{spellId:{spellId:34914}}}}}}}]}},castSpell:{spellId:{spellId:34914}}}},{action:{condition:{and:{vals:[{and:{vals:[{not:{val:{sequenceIsReady:{sequenceName:"archangel"}}}}]}},{cmp:{op:"OpLt",lhs:{dotRemainingTime:{spellId:{spellId:2944}}},rhs:{dotTickFrequency:{spellId:{spellId:2944}}}}}]}},castSpell:{spellId:{spellId:2944}}}},{action:{condition:{and:{vals:[{auraIsActive:{auraId:{spellId:77487}}}]}},castSpell:{spellId:{spellId:8092}}}},{action:{condition:{and:{vals:[{spellCanCast:{spellId:{spellId:32379}}},{isExecutePhase:{threshold:"E25"}}]}},castSpell:{spellId:{spellId:32379}}}},{action:{channelSpell:{spellId:{spellId:15407},interruptIf:{cmp:{op:"OpLe",lhs:{gcdTimeToReady:{}},rhs:{channelClipDelay:{}}}}}}},{action:{condition:{const:{val:"false"}},castSpell:{spellId:{spellId:47585}}}}]},J={items:[{id:60237,enchant:4207,gems:[68780,52236],reforging:141},{id:69882,randomSuffix:-131},{id:65238,enchant:4200,gems:[52207]},{id:60232,enchant:4115,gems:[52208],reforging:162},{id:65237,enchant:4102,gems:[52207,52236],reforging:141},{id:60238,enchant:4257,gems:[52208,0],reforging:167},{id:65234,enchant:4068,gems:[52207,0],reforging:145},{id:65376,randomSuffix:-231,gems:[52208,52207]},{id:65236,enchant:4110,gems:[52208,52207]},{id:65069,enchant:4104,gems:[52207],reforging:162},{id:65373,randomSuffix:-131},{id:65123,reforging:162},{id:62047,reforging:167},{id:65053,reforging:145},{id:65041,enchant:4097,reforging:162},{id:65133,enchant:4091,reforging:134},{id:65064,reforging:167}]},Q={items:[{id:71533,enchant:4207,gems:[68780,52207],reforging:162},{id:71472,gems:[52207],reforging:162},{id:71536,enchant:4200,gems:[52208],reforging:141},{id:71434,enchant:4115,reforging:145},{id:71535,enchant:4102,gems:[52208,52236]},{id:71471,enchant:4257,gems:[0],reforging:141},{id:71614,enchant:4068,gems:[52207,0],reforging:141},{id:71613,gems:[52207,52207],reforging:162},{id:71534,enchant:4110,gems:[52207,52207],reforging:167},{id:71447,enchant:4104,gems:[52207],reforging:141},{id:71217,gems:[52207],reforging:134},{id:71449,reforging:162},{id:69110},{id:62047,reforging:162},{id:71086,enchant:4097,gems:[52207,52207,52207],reforging:134},{},{id:71575,reforging:148}]},ee={items:[{id:78703,enchant:4207,gems:[68780,71881],reforging:147},{id:78364,reforging:151},{id:78750,enchant:4200,gems:[71881,71881],reforging:141},{id:77098,enchant:4115,gems:[71881],reforging:134},{id:78731,enchant:4102,gems:[71881,71881,71854],reforging:154},{id:78417,enchant:4257,gems:[71881,0],reforging:148},{id:78461,enchant:4107,gems:[71881,71881,0],reforging:147},{id:78391,gems:[71881,71881,71881],reforging:147},{id:78722,enchant:4110,gems:[71881,71881,71854],reforging:148},{id:78449,enchant:4104,gems:[71881,71881],reforging:147},{id:78419,gems:[71881],reforging:148},{id:78491,gems:[71881],reforging:154},{id:77995},{id:78e3},{id:71086,enchant:4097,gems:[71881,71881,71881],reforging:154},{},{id:78392,reforging:162}]},ae={items:[{},{},{},{},{},{},{},{},{},{},{},{},{id:72898},{id:73497},{},{},{}]},se=e("Pre Raid",{items:[{id:60237,enchant:4207,gems:[68780,52236],reforging:147},{id:71213,reforging:145},{id:60253,enchant:4200,gems:[52207]},{id:60232,enchant:4115,gems:[52208],reforging:162},{id:71279,enchant:4102,gems:[52208,52236]},{id:71266,enchant:4257,gems:[0]},{id:71276,enchant:4068,gems:[52236,0],reforging:119},{id:65376,randomSuffix:-231,gems:[52208,52207],reforging:119},{id:71273,enchant:4110,gems:[52207,52208],reforging:117},{id:58486,enchant:4104,gems:[52207]},{id:65373,randomSuffix:-131,reforging:119},{id:71210,reforging:138},{id:65053,reforging:145},{id:62047,reforging:167},{id:70157,enchant:4097,reforging:117},{id:70112,enchant:4091,reforging:145},{id:71151,reforging:134}]}),le=e("P1 Preset",J),te=e("P3 Preset",Q),ne=e("P4 Preset",ee),ie=a("P4",ae),oe=s("Default",Z),de=s("T13 - 4PC",$),pe=l("Default",v.fromMap({[T.StatIntellect]:1,[T.StatSpirit]:.9,[T.StatSpellPower]:.79,[T.StatHitRating]:.85,[T.StatCritRating]:.42,[T.StatHasteRating]:.76,[T.StatMasteryRating]:.48})),re=[{unitStat:y.fromPseudoStat(P.PseudoStatSpellHastePercent),presets:new Map([["9-tick - DP",6.25111],["7-tick - SWP",8.32281],["BL - 9-tick - SWP",8.98193],["6-tick - VT",9.99084],["BL - 12-tick - DP",10.60112],["BL - 8-tick - VT",15.35578],["10-tick - DP",18.74135],["BL - 13-tick - DP",20.22362],["BL - 10-tick - SWP",21.8101],["8-tick - SWP",24.97397],["BL - 14-tick - DP",29.82799],["7-tick - VT",30.01084],["BL - 9-tick - VT",30.7845],["11-tick - DP",31.26231],["BL - 11-tick - SWP",34.59857],["BL - 15-tick - DP",39.3955],["9-tick - SWP",41.67651],["12-tick - DP",43.78146],["BL - 10-tick - VT",46.19528],["BL - 12-tick - SWP",47.40929],["BL - 16-tick - DP",49.0276],["8-tick - VT",49.96252],["13-tick - DP",56.29071],["10-tick - SWP",58.35314]])}],ce={name:"Standard",data:O.create({talentsString:"032212--322032210201222100231",glyphs:R.create({prime1:k.GlyphOfShadowWordPain,prime2:k.GlyphOfMindFlay,prime3:k.GlyphOfShadowWordDeath,major1:A.GlyphOfFade,major2:A.GlyphOfInnerFire,major3:A.GlyphOfSpiritTap,minor1:w.GlyphOfFading,minor2:w.GlyphOfFortitude,minor3:w.GlyphOfShadowfiend})})},Ie=q.create({classOptions:{armor:C.InnerFire}}),ge=L.create({flask:D.FlaskOfTheDraconicMind,food:G.FoodSeafoodFeast,defaultPotion:B.VolcanicPotion,prepopPotion:B.VolcanicPotion,tinkerHands:F.TinkerHandsSynapseSprings}),me=b.create({arcaneBrilliance:!0,bloodlust:!0,markOfTheWild:!0,icyTalons:!0,moonkinForm:!0,leaderOfThePack:!0,powerWordFortitude:!0,strengthOfEarthTotem:!0,trueshotAura:!0,wrathOfAirTotem:!0,demonicPact:!0,blessingOfKings:!0,blessingOfMight:!0,communion:!0}),he=H.create({vampiricTouch:!0,darkIntent:!0}),ue=E.create({bloodFrenzy:!0,sunderArmor:!0,ebonPlaguebringer:!0,mangle:!0,criticalMass:!0,demoralizingShout:!0,frostFever:!0}),Se={channelClipDelay:40,distanceFromTarget:20,profession1:W.Engineering,profession2:W.Tailoring,darkIntentUptime:90},fe=t("P3 - Default",{race:V.RaceTroll,gear:te,rotation:oe}),ve=t("P4 - Default",{race:V.RaceTroll,gear:ne,rotation:de}),Te=re.find((e=>e.unitStat.equalsPseudoStat(P.PseudoStatSpellHastePercent))).presets,ye=e=>e.getGear().getItemSetCount("Regalia of Dying Light","Regalia of Dying light")>=4,Pe=n(U.SpecShadowPriest,{cssClass:"shadow-priest-sim-ui",cssScheme:N.getCssClass(N.Priest),knownIssues:["Some items may display and use stats a litle higher than their original value."],epStats:[T.StatIntellect,T.StatSpirit,T.StatSpellPower,T.StatHitRating,T.StatCritRating,T.StatHasteRating,T.StatMasteryRating],epReferenceStat:T.StatIntellect,displayStats:y.createDisplayStatArray([T.StatHealth,T.StatMana,T.StatStamina,T.StatIntellect,T.StatSpirit,T.StatSpellPower,T.StatMasteryRating],[P.PseudoStatSpellHitPercent,P.PseudoStatSpellCritPercent,P.PseudoStatSpellHastePercent]),modifyDisplayStats:e=>{const a=e.getCurrentStats(),s=v.fromProto(a.gearStats),l=v.fromProto(a.talentsStats).subtract(s);return{talents:(new v).withStat(T.StatHitRating,l.getPseudoStat(P.PseudoStatSpellHitPercent)*x)}},defaults:{gear:ne.gear,epWeights:pe.epWeights,statCaps:(new v).withPseudoStat(P.PseudoStatSpellHitPercent,17),consumes:ge,talents:ce.data,specOptions:Ie,raidBuffs:me,partyBuffs:M.create({}),individualBuffs:he,debuffs:ue,other:Se},playerIconInputs:[Y()],includeBuffDebuffInputs:[i,o,d,p,r,c],excludeBuffDebuffInputs:[],otherInputs:{inputs:[I,g,m,h,u]},itemSwapSlots:[j.ItemSlotMainHand,j.ItemSlotHands,j.ItemSlotTrinket1,j.ItemSlotTrinket2],encounterPicker:{showExecuteProportion:!0},presets:{epWeights:[pe],talents:[ce],rotations:[oe,de],gear:[se,le,te,ne],itemSwaps:[ie],builds:[fe,ve]},autoRotation:e=>ye(e)?de.rotation.rotation:oe.rotation.rotation,raidSimPresets:[{spec:U.SpecShadowPriest,talents:ce.data,specOptions:Ie,consumes:ge,otherDefaults:Se,defaultFactionRaces:{[_.Unknown]:V.RaceUnknown,[_.Alliance]:V.RaceWorgen,[_.Horde]:V.RaceTroll},defaultGear:{[_.Unknown]:{},[_.Alliance]:{0:se.gear,1:te.gear},[_.Horde]:{0:se.gear,1:te.gear}}}]});class Oe extends S{constructor(e,a){super(e,a,Pe),a.sim.waitForInit().then((()=>{new f(this,{statSelectionPresets:re,updateSoftCaps:e=>(ye(a)&&e.push(z.fromPseudoStat(P.PseudoStatSpellHastePercent,{breakpoints:[Te.get("7-tick - VT")],capType:K.TypeSoftCap,postCapEPs:[(pe.epWeights.getStat(T.StatCritRating)+.02)*X]})),e)})}))}}export{Oe as S};
