import{y as e,a2 as t,m as a,a4 as s,d as n,a as i,a7 as l,a8 as r,r as o,_ as p,A as c,b as d,a0 as g,T as m,I as S,O as u,c as h}from"./preset_utils-CT2kpWfm.chunk.js";import{R as f}from"./suggest_reforges_action-HPsUwWdp.chunk.js";import{aV as I,aW as y,T as v,aX as P,n as A,S as O,a as R,b as T,c as k,G as w,aY as b,aZ as C,a_ as M,ac as B,C as H,f as W,F as D,g as F,i as G,j as E,U as x,q as j,R as J,m as N,I as L,D as U,aM as V,A as _,aO as K,o as q,p as z}from"./detailed_results-22mxnnQ_.chunk.js";import{s as X}from"./apl_utils-Dq65iw_p.chunk.js";import{s as Y,P as Z,a as $,A as Q,N as ee}from"./shared-BBuGUq96.chunk.js";const te={inputs:[e({fieldName:"type",label:"Type",values:[{name:"Single Target",value:I.SingleTarget},{name:"AOE",value:I.Aoe}]}),e({fieldName:"sting",label:"Sting",labelTooltip:"Maintains the selected Sting on the primary target.",values:[{name:"None",value:y.NoSting},{name:"Serpent Sting",value:y.SerpentSting}],showWhen:e=>e.getSimpleRotation().type==I.SingleTarget}),t({fieldName:"trapWeave",label:"Trap Weave",labelTooltip:"Uses Explosive Trap at appropriate times. Note that selecting this will disable Black Arrow because they share a CD."}),t({fieldName:"multiDotSerpentSting",label:"Multi-Dot Serpent Sting",labelTooltip:"Casts Serpent Sting on multiple targets",changeEmitter:e=>v.onAny([e.rotationChangeEmitter,e.talentsChangeEmitter])})]},ae={type:"TypeAPL",prepullActions:[{action:{castSpell:{spellId:{otherId:"OtherActionPotion"}}},doAtValue:{const:{val:"-1s"}}}],priorityList:[{action:{condition:{cmp:{op:"OpGt",lhs:{currentTime:{}},rhs:{const:{val:"10s"}}}},autocastOtherCooldowns:{}}},{action:{castSpell:{spellId:{spellId:2643}}}},{action:{castSpell:{spellId:{spellId:13812}}}},{action:{castSpell:{spellId:{spellId:77767}}}}]},se={type:"TypeAPL",prepullActions:[{action:{castSpell:{spellId:{otherId:"OtherActionPotion"}}},doAtValue:{const:{val:"-1s"}}},{action:{castSpell:{spellId:{spellId:13165}}},doAtValue:{const:{val:"-2s"}}},{action:{castSpell:{spellId:{spellId:1130}}},doAtValue:{const:{val:"-3s"}}},{action:{castSpell:{spellId:{spellId:2825,tag:-1}}},doAtValue:{const:{val:"-1s"}}},{action:{},doAtValue:{const:{val:"-1s"}}}],priorityList:[{action:{autocastOtherCooldowns:{}}},{action:{condition:{and:{vals:[{cmp:{op:"OpEq",lhs:{auraNumStacks:{sourceUnit:{type:"Pet",owner:{type:"Self"}},auraId:{spellId:19622}}},rhs:{const:{val:"5"}}}},{cmp:{op:"OpLe",lhs:{auraRemainingTime:{auraId:{spellId:82692}}},rhs:{const:{val:"4s"}}}}]}},castSpell:{spellId:{spellId:82692}}}},{action:{condition:{cmp:{op:"OpGe",lhs:{currentFocus:{}},rhs:{const:{val:"60"}}}},castSpell:{spellId:{spellId:19574}}}},{action:{condition:{not:{val:{dotIsActive:{spellId:{spellId:1978}}}}},castSpell:{spellId:{spellId:1978}}}},{action:{castSpell:{spellId:{spellId:53351}}}},{action:{castSpell:{spellId:{spellId:3045}}}},{action:{castSpell:{spellId:{spellId:34026}}}},{action:{condition:{cmp:{op:"OpLe",lhs:{currentFocus:{}},rhs:{const:{val:"37"}}}},castSpell:{spellId:{spellId:82726}}}},{action:{condition:{or:{vals:[{cmp:{op:"OpGe",lhs:{currentFocus:{}},rhs:{const:{val:"59"}}}},{auraIsActive:{auraId:{spellId:19574}}}]}},castSpell:{spellId:{spellId:3044}}}},{action:{castSpell:{spellId:{spellId:77767}}}}]},ne={items:[{id:65206,enchant:4209,gems:[68778,52209],reforging:165},{id:69880,randomSuffix:-135,reforging:151},{id:65208,enchant:4204,gems:[52212],reforging:166},{id:69884,randomSuffix:-135,enchant:1099},{id:65204,enchant:4102,gems:[52212,52220]},{id:65028,enchant:4258,gems:[52212]},{id:65205,enchant:3222,gems:[52212,52212]},{id:65132,gems:[52212,52212]},{id:60230,enchant:3823,gems:[52212,52220,52209]},{id:65063,enchant:4105,gems:[52220]},{id:65082},{id:65367,randomSuffix:-133},{id:65140},{id:65026},{id:65139,enchant:4227,reforging:167},{},{id:65058,enchant:4175,reforging:167}]},ie={items:[{id:71503,enchant:4209,gems:[68778,52209],reforging:151},{id:71610,reforging:166},{id:71403,randomSuffix:-294,enchant:4204,gems:[52258],reforging:167},{id:71415,enchant:4100,gems:[52258,52258],reforging:166},{id:71501,enchant:4102,gems:[52212,52209],reforging:167},{id:71561,enchant:4258,gems:[52212],reforging:152},{id:71502,enchant:4107,gems:[52212,52212],reforging:151},{id:71255,gems:[52212,52212],reforging:166},{id:71504,enchant:4126,gems:[52212,52220],reforging:137},{id:71457,enchant:4105,gems:[52212],reforging:138},{id:71216,gems:[52212],reforging:166},{id:71401,reforging:166},{id:69150},{id:69112},{id:71466,enchant:4227,reforging:165},{},{id:71611,enchant:4267,reforging:151}]},le=a("BM PreRaid Preset",{items:[{id:59456,enchant:4209,gems:[68778,59478,59493]},{id:52350,gems:[52212]},{id:64712,enchant:4204,gems:[52212],reforging:152},{id:56315,enchant:1099},{id:56564,enchant:4063,gems:[52258],reforging:152},{id:63479,enchant:4071,gems:[0]},{id:64709,enchant:3222,gems:[52212,0],reforging:137},{id:56539,gems:[52212,52212],reforging:165},{id:56386,enchant:4126,gems:[52258,52258]},{id:62385,enchant:4076,gems:[52212],reforging:166},{id:52348,gems:[52212],reforging:167},{id:62362,reforging:166},{id:68709,reforging:166},{id:56328,reforging:137},{id:55066,enchant:4227,reforging:165},{},{id:59367,enchant:4175,gems:[52212],reforging:151}]}),re=a("BM P1 Preset",ne),oe=a("BM T12 Preset",ie),pe=P.create({type:I.SingleTarget,sting:y.SerpentSting,trapWeave:!0,multiDotSerpentSting:!0,allowExplosiveShotDownrank:!0});s("Simple Default",A.SpecBeastMasteryHunter,pe);const ce=n("BM",se),de=n("AOE",ae),ge=i("BM P1",O.fromMap({[R.StatAgility]:2.65,[R.StatRangedAttackPower]:1,[R.StatHitRating]:2.12,[R.StatCritRating]:1.19,[R.StatHasteRating]:.97,[R.StatMasteryRating]:.55},{[T.PseudoStatRangedDps]:6.32})),me=i("BM T12",O.fromMap({[R.StatAgility]:3.03,[R.StatRangedAttackPower]:1,[R.StatHitRating]:2.52,[R.StatCritRating]:1.32,[R.StatHasteRating]:1.14,[R.StatMasteryRating]:.64},{[T.PseudoStatRangedDps]:6.32})),Se={name:"Beast Mastery",data:k.create({talentsString:"2330230311320112121-2302-03",glyphs:w.create({prime1:b.GlyphOfArcaneShot,prime2:b.GlyphOfKillCommand,prime3:b.GlyphOfKillShot,major1:C.GlyphOfBestialWrath,major2:C.GlyphOfRaptorStrike,major3:C.GlyphOfTrapLauncher})})},ue=M.create({classOptions:{petUptime:1,useHuntersMark:!0,petType:B.Wolf,petTalents:{serpentSwiftness:2,dash:!0,bloodthirsty:1,spikedCollar:3,boarsSpeed:!0,cullingTheHerd:3,charge:!0,spidersBite:3,rabid:!0,callOfTheWild:!0,sharkAttack:2,wildHunt:2}}}),he=H.create({defaultPotion:W.PotionOfTheTolvir,prepopPotion:W.PotionOfTheTolvir,flask:D.FlaskOfTheWinds,defaultConjured:l.value,food:F.FoodSeafoodFeast,tinkerHands:r.value}),fe={distanceFromTarget:24,profession1:G.Engineering,profession2:G.Jewelcrafting},Ie=o(A.SpecBeastMasteryHunter,{cssClass:"beast-mastery-hunter-sim-ui",cssScheme:E.getCssClass(E.Hunter),knownIssues:[],warnings:[],epStats:[R.StatStamina,R.StatIntellect,R.StatAgility,R.StatRangedAttackPower,R.StatHitRating,R.StatCritRating,R.StatHasteRating,R.StatMP5,R.StatMasteryRating],epPseudoStats:[T.PseudoStatRangedDps],epReferenceStat:R.StatRangedAttackPower,displayStats:x.createDisplayStatArray([R.StatHealth,R.StatStamina,R.StatAgility,R.StatRangedAttackPower,R.StatMasteryRating],[T.PseudoStatPhysicalHitPercent,T.PseudoStatPhysicalCritPercent,T.PseudoStatRangedHastePercent]),modifyDisplayStats:e=>Y(e),itemSwapSlots:[j.ItemSlotMainHand,j.ItemSlotRanged,j.ItemSlotHands,j.ItemSlotTrinket1,j.ItemSlotTrinket2,j.ItemSlotFinger1,j.ItemSlotFinger2],defaults:{gear:oe.gear,epWeights:me.epWeights,statCaps:(new O).withPseudoStat(T.PseudoStatPhysicalHitPercent,8),other:fe,consumes:he,talents:Se.data,specOptions:ue,raidBuffs:J.create({arcaneBrilliance:!0,bloodlust:!0,markOfTheWild:!0,icyTalons:!0,moonkinForm:!0,leaderOfThePack:!0,powerWordFortitude:!0,strengthOfEarthTotem:!0,trueshotAura:!0,wrathOfAirTotem:!0,demonicPact:!0,blessingOfKings:!0,blessingOfMight:!0,communion:!0}),partyBuffs:N.create({}),individualBuffs:L.create({vampiricTouch:!0}),debuffs:U.create({faerieFire:!0,curseOfElements:!0,savageCombat:!0,bloodFrenzy:!0})},playerIconInputs:[Z()],rotationInputs:te,petConsumeInputs:[],includeBuffDebuffInputs:[p,c],excludeBuffDebuffInputs:[],otherInputs:{inputs:[$(),Q(),ee(),d,g,m,S,u]},encounterPicker:{showExecuteProportion:!1},presets:{epWeights:[ge,me],talents:[Se],rotations:[ce,de],gear:[oe,le,re]},autoRotation:e=>e.sim.encounter.targets.length>=4?de.rotation.rotation:ce.rotation.rotation,simpleRotation:(e,t,a)=>{const[s,n]=X(a),i=V.fromJsonString('{"condition":{"not":{"val":{"auraIsActive":{"auraId":{"spellId":12472}}}}},"castSpell":{"spellId":{"otherId":"OtherActionPotion"}}}'),l=V.fromJsonString(`{"condition":{"cmp":{"op":"OpGt","lhs":{"remainingTime":{}},"rhs":{"const":{"val":"6s"}}}},"multidot":{"spellId":{"spellId":49001},"maxDots":${t.multiDotSerpentSting?3:1},"maxOverlap":{"const":{"val":"0ms"}}}}`),r=V.fromJsonString('{"condition":{"auraShouldRefresh":{"auraId":{"spellId":3043},"maxOverlap":{"const":{"val":"0ms"}}}},"castSpell":{"spellId":{"spellId":3043}}}'),o=V.fromJsonString('{"condition":{"not":{"val":{"dotIsActive":{"spellId":{"spellId":49067}}}}},"castSpell":{"spellId":{"tag":1,"spellId":49067}}}'),p=V.fromJsonString('{"castSpell":{"spellId":{"spellId":58434}}}'),c=V.fromJsonString('{"castSpell":{"spellId":{"spellId":61006}}}'),d=V.fromJsonString('{"castSpell":{"spellId":{"spellId":49050}}}'),g=V.fromJsonString('{"castSpell":{"spellId":{"spellId":49048}}}'),m=V.fromJsonString('{"castSpell":{"spellId":{"spellId":49052}}}');return t.type==I.Aoe?n.push(...[i,t.sting==y.ScorpidSting?r:null,t.sting==y.SerpentSting?l:null,t.trapWeave?o:null,p].filter((e=>e))):n.push(...[i,c,t.trapWeave?o:null,t.sting==y.ScorpidSting?r:null,t.sting==y.SerpentSting?l:null,d,g,m].filter((e=>e))),_.create({prepullActions:s,priorityList:n.map((e=>K.create({action:e})))})},raidSimPresets:[{spec:A.SpecBeastMasteryHunter,talents:Se.data,specOptions:ue,consumes:he,defaultFactionRaces:{[q.Unknown]:z.RaceUnknown,[q.Alliance]:z.RaceWorgen,[q.Horde]:z.RaceOrc},defaultGear:{[q.Unknown]:{},[q.Alliance]:{1:le.gear},[q.Horde]:{1:le.gear}},otherDefaults:fe}]});class ye extends h{constructor(e,t){super(e,t,Ie),t.sim.waitForInit().then((()=>{new f(this,{getEPDefaults:e=>e.getGear().getItemSetCount("Lightning-Charged Battlegear")>=4?ge.epWeights:e.getGear().getItemSetCount("Flamewaker's Battlegear")>=4?me.epWeights:ge.epWeights})}))}}export{ye as B};
